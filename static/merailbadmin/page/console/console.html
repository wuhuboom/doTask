<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>控制台</title>
    <link rel="stylesheet" href="../../assets/libs/layui/css/layui.css"/>
    <link rel="stylesheet" href="../../assets/module/admin.css?v=318"/>
    <script src="../../assets/js/moment.js"></script>
    <script src="../../assets/js/echarts-tooltip-carousel.js"></script>

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
        /** 统计快捷方式样式 */
        .console-link-block {
            font-size: 16px;
            padding: 20px 20px;
            border-radius: 4px;
            background-color: #40D4B0;
            color: #FFFFFF !important;
            box-shadow: 0 2px 3px rgba(0, 0, 0, .05);
            position: relative;
            overflow: hidden;
            display: block;
        }

        .console-link-block .console-link-block-num {
            font-size: 40px;
            margin-bottom: 5px;
            opacity: .9;
        }

        .console-link-block .console-link-block-text {
            opacity: .8;
        }

        .console-link-block .console-link-block-icon {
            position: absolute;
            top: 50%;
            right: 20px;
            width: 50px;
            height: 50px;
            font-size: 50px;
            line-height: 50px;
            margin-top: -25px;
            color: #FFFFFF;
            opacity: .8;
        }

        .console-link-block .console-link-block-band {
            color: #fff;
            width: 100px;
            font-size: 12px;
            padding: 2px 0 3px 0;
            background-color: #E32A16;
            line-height: inherit;
            text-align: center;
            position: absolute;
            top: 8px;
            right: -30px;
            transform-origin: center;
            transform: rotate(45deg) scale(.8);
            opacity: .95;
            z-index: 2;
        }

        /** //统计快捷方式样式 */

        /** 设置每个快捷块的颜色 */
        .layui-row > div:nth-child(2) .console-link-block {
            background-color: #55A5EA;
        }

        .layui-row > div:nth-child(3) .console-link-block {
            background-color: #9DAFFF;
        }

        .layui-row > div:nth-child(4) .console-link-block {
            background-color: #F591A2;
        }

        .layui-row > div:nth-child(5) .console-link-block {
            background-color: #FEAA4F;
        }

        .layui-row > div:last-child .console-link-block {
            background-color: #9BC539;
        }

        .console-link-block .console-link-block-num {
            font-size: 20px !important;
        }


    </style>
</head>
<body>
<!-- 正文开始 -->
<div class="layui-fluid ew-console-wrapper">
    <!-- 快捷方式 -->
    <div class="layui-row layui-col-space15">
        <!--        <div class="layui-col-xs12">-->
        <!--            <button class="layui-btn layui-btn-normal layui-btn-radius" id=refreshBtn style="float: right;"><i class="layui-icon layui-icon-refresh"></i>手动刷新</button>-->
        <!--        </div>-->
        <!--        <fieldset class="layui-elem-field layui-field-title">-->
        <!--            <legend>今日数据</legend>-->
        <!--        </fieldset>-->
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_date">0</div>
                <div class="console-link-block-text">日期</div>
                <i class="console-link-block-icon layui-icon layui-icon-log"></i>
            </div>
        </div>
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_reg_num">0</div>
                <div class="console-link-block-text">注册人数</div>
                <i class="console-link-block-icon layui-icon layui-icon-user"></i>
            </div>
        </div>
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_login_num">0</div>
                <div class="console-link-block-text">登录人数</div>
                <i class="console-link-block-icon layui-icon layui-icon-username"
                   style="font-size: 62px;padding-right: 5px;"></i>
            </div>
        </div>
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_withdraw_num">0</div>
                <div class="console-link-block-text">提现人数</div>
                <i class="console-link-block-icon layui-icon layui-icon-face-smile-b"></i>
            </div>
        </div>

        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_withdraw_amount">0</div>
                <div class="console-link-block-text">提现金额</div>
                <i class="console-link-block-icon layui-icon layui-icon-dollar"></i>
            </div>
        </div>
        <div class="layui-col-md2 layui-col-sm4 layui-col-xs6">
            <div class="console-link-block">
                <div class="console-link-block-num" id="today_first_recharge_num">0</div>
                <div class="console-link-block-text">首充人数</div>
                <i class="console-link-block-icon layui-icon layui-icon-diamond"></i>
            </div>
        </div>
    </div>


    <div class="layui-row layui-col-space15">
        <div class="layui-col-xs12 layui-col-sm6 layui-col-md3">
            <div class="layui-card">
                <div class="layui-card-header">
                    银行充值金额<span class="layui-badge layui-badge-green pull-right">日</span>
                </div>
                <div class="layui-card-body">
                    <p class="lay-big-font" id="today_withdrawBankMoney">0</p>
<!--                    <p>银行充值金额-->
<!--                        &lt;!&ndash;                        <span class="pull-right">280 万</span>&ndash;&gt;-->
<!--                    </p>-->
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm6 layui-col-md3">
            <div class="layui-card">
                <div class="layui-card-header">
                    银行充值人数<span class="layui-badge layui-badge-blue pull-right">日</span>
                </div>
                <div class="layui-card-body">
                    <p class="lay-big-font" id="today_withdrawBankNum">0</p>
                    <!--                        <span style="font-size: 26px;line-height: 1;">¥</span>-->
<!--                    <p>银行充值人数<span class="pull-right"></span></p>-->
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm6 layui-col-md3">
            <div class="layui-card">
                <div class="layui-card-header">
                    USDT充值金额<span class="layui-badge layui-badge-red pull-right">日</span>
                </div>
                <div class="layui-card-body">
                    <p class="lay-big-font" id="today_withdrawUSDTMoney">0</p>
<!--                    <p>USDT充值金额<span class="pull-right"></span></p>-->
                </div>
            </div>
        </div>
        <div class="layui-col-xs12 layui-col-sm6 layui-col-md3">
            <div class="layui-card">
                <div class="layui-card-header">
                    USDT充值人数
                    <span class="layui-badge layui-badge-orange pull-right">日</span>
                    <!--                    <span class="icon-text pull-right" lay-tips="指标说明" lay-direction="4" lay-offset="5px,5px">-->
                    <!--                        <i class="layui-icon layui-icon-tips"></i>-->
                    <!--                    </span>-->
                </div>
                <div class="layui-card-body">

                    <p class="lay-big-font" id="today_withdrawUSDTNum">0</p>
<!--                    <p>USDT充值人数<span class="pull-right"></span></p>-->
                </div>
            </div>
        </div>
    </div>

    <!--         统计图表-->
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md6 layui-col-sm6">
            <div class="layui-card" style="overflow: hidden;">
                <div class="layui-card-header">总统计</div>
                <div class="layui-card-body">
                    <div id="consoleChartsDay" style="height: 220px;"></div>
                    <div style="color: #10B4E8;font-size: 18px;position: absolute;bottom: 85px;left: 0;right:0;text-align: center;cursor: pointer;">
                        <!--                        签到明细<i class="layui-icon layui-icon-right" style="font-size: 16px;"></i>-->
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-col-md6 layui-col-sm6">
            <div class="layui-card" style="overflow: hidden;">
                <div class="layui-card-header">任务分组名</div>
                <div class="layui-card-body">
                    <div id="consoleChartsWord" style="height: 220px;"></div>
                </div>
            </div>
        </div>




    </div>

    <div class="layui-row layui-col-space15">
        <div class="layui-col-xs12">
            <div class="layui-card" style="overflow: hidden;">
                <div class="layui-card-header">每天数据</div>
                <div class="layui-card-body">
                    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
                    <div id="speedChartMain" style="height: 600px;margin-top: 30px"></div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- js部分 -->
<script type="text/javascript" src="../../assets/libs/layui/layui.js"></script>
<script type="text/javascript" src="../../assets/js/common.js?v=318"></script>
<script src="../../assets/libs/echarts/echarts.min.js"></script>
<script src="../../assets/libs/echarts/china.js"></script>
<script src="../../assets/libs/echarts/echarts-wordcloud.min.js"></script>
<!--    引入组件主题-->
<script src="../../assets/js/echartthemes.js"></script>
<script type="text/javascript" src="../../assets/js/jquery.min.js"></script>
<script type="text/javascript" src="../../assets/js/jquery.cookie.min.js"></script>
<script type="text/javascript" src="../../assets/js/config.url.js"></script>

<script>
    var mybck = $.cookie('tokenMyb');
    //alert(document.cookie);
    //console.log(mybck)
    if (mybck == "" || mybck == null) {

        window.top.location.href = "../../login.html";

    } else {
        // 用于清除定时器
        var tootipTimer = null;
        var timer = null;

        var momentObj = new moment()
        $("#today_date").text(momentObj.format('YYYY-MM-DD'))

        var all_login_num = 0
        var all_reg_num = 0
        var all_zb_str = ''

        var groupArr = []

        //获取今日数据
        let reqParam = {}
        reqParam.operation = "firstPage"
        reqParam.page = 1
        reqParam.limit = 3000


        // //手动刷新请求地址
        // $("#refreshBtn").click(function () {
        //
        //     //获取今日数据
        //     $.ajax({
        //         url: js_global_requestAddress_set_todayStatistics,
        //         dataType: 'json',
        //         type: 'get',
        //         success: function (dataArray) {
        //
        //             if (dataArray.code != 200) {
        //
        //                 // console.log(dataArray.msg)
        //                 // layer.msg(dataArray.msg);
        //                 return false;
        //
        //             }
        //
        //
        //             var requestdata = {};
        //             requestdata['token']= $.cookie('tokenMyb');
        //             requestdata['action']= 'TODAY';
        //
        //             //获取今日数据
        //             $.ajax({
        //                 url: js_global_requestAddress_get_Statistics,
        //                 dataType: 'json',
        //                 type: 'post',
        //                 data: requestdata,
        //                 success: function (dataArray) {
        //
        //                     if (dataArray.code != 200) {
        //
        //                         // console.log(dataArray.msg)
        //                         // layer.msg(dataArray.msg);
        //                         return false;
        //
        //                     }
        //
        //                     var cuurResultData = dataArray.result
        //
        //                     //充值金额
        //                     var  recharge_amount_s = cuurResultData.recharge_amount
        //
        //                     //盈利金额
        //                     var  profit_amount_s = cuurResultData.profit_amount
        //
        //                     //每日投注人数
        //                     var bet_nums_s = cuurResultData.bet_nums
        //
        //                     //每日流水金额
        //                     var  running_s = cuurResultData.running
        //
        //                     //充值人数
        //                     var  recharge_nums_s = cuurResultData.recharge_nums
        //
        //                     //提现金额
        //                     var  withdraw_amount_s = cuurResultData.withdraw_amount
        //
        //
        //                     $('#recharge_amount').text(recharge_amount_s);
        //                     $('#profit_amount').text(profit_amount_s);
        //                     $('#bet_nums').text(bet_nums_s);
        //                     $('#running').text(running_s);
        //                     $('#recharge_nums').text(recharge_nums_s);
        //                     $('#withdraw_amount').text(withdraw_amount_s);
        //
        //
        //
        //
        //
        //                     // console.log("1111",dataArray)
        //
        //
        //
        //                 }
        //             })
        //
        //
        //
        //         }
        //     })
        //
        // })


        layui.use(['layer', 'notice'], function () {
            var $ = layui.jquery;
            var layer = layui.layer;
            var notice = layui.notice;

            // notice.success({
            //     title: '消息通知',
            //     message: '你有新的消息，请注意查收!'
            // });


            /** 渲染日统计图表 */
            var myCharts1 = echarts.init(document.getElementById('consoleChartsDay'));
            var options1 = {
                title: {
                    text: '登录人数/注册人数', x: 'center', y: '32%',
                    textStyle: {fontSize: 18, color: '#262626', fontWeight: 'normal'},
                    subtextStyle: {fontSize: 36, color: '#10B4E8'}, itemGap: 20
                },
                color: ['#E0E0E0', '#10B4E8'],
                tooltip: {trigger: 'item'},
                legend: {
                    orient: 'vertical', right: '0px', top: '0px',
                    data: ['注册人数', '登录人数'], textStyle: {color: '#595959'}
                },
                series: [{name: '人数', type: 'pie', radius: ['75%', '80%'], label: {normal: {show: false}}}]
            };
            myCharts1.setOption(options1);


            $.ajax({
                url: global_requestAddress + global_requestAddress_js_firstPage + "?action=select",
                type: "POST",
                headers: {
                    token: mybck
                },
                data: reqParam,
                dataType: "json",
                success: function (res) {
                    if (res.code === 2000) {

                        $("#today_reg_num").text(res.result.Today.RegisterNum)
                        $("#today_login_num").text(res.result.Today.LoginNum)
                        $("#today_withdraw_amount").text(res.result.Today.WithdrawMoney)
                        $("#today_withdraw_num").text(res.result.Today.WithdrawNum)
                        $("#today_first_recharge_num").text(res.result.Today.FirstRechargeNum)

                        $("#today_withdrawBankMoney").text(res.result.Today.RechargeBankMoney)
                        $("#today_withdrawBankNum").text(res.result.Today.RechargeBankNum)
                        $("#today_withdrawUSDTMoney").text(res.result.Today.RechargeUsdtMoney)
                        $("#today_withdrawUSDTNum").text(res.result.Today.RechargeUsdtNum)

                        all_login_num = res.result.All.login_num
                        all_reg_num = res.result.All.register_num

                        all_zb_str = all_login_num + "/" + all_reg_num


                        // 赋值
                        myCharts1.setOption({
                            title: {subtext: all_zb_str},
                            series: [{data: [{name: '注册人数', value: all_reg_num}, {name: '登录人数', value: all_login_num}]}]
                        });

                    }
                }
            })


            /** 渲染词云图表 */
            var myCharts5 = echarts.init(document.getElementById('consoleChartsWord'));
            var options5 = {
                tooltip: {show: true},
                series: [{
                    name: "任务数",
                    type: 'wordCloud',
                    shape: 'diamond',
                    width: '100%',
                    height: '100%',
                    sizeRange: [12, 23],
                    gridSize: 6,
                    textStyle: {
                        normal: {
                            color: function () {
                                return 'rgb(' + [
                                    Math.round(Math.random() * 160),
                                    Math.round(Math.random() * 160),
                                    Math.round(Math.random() * 160)
                                ].join(',') + ')';
                            }
                        },
                        emphasis: {shadowBlur: 10, shadowColor: '#666'}
                    }, data: []
                }]
            };
            myCharts5.setOption(options5);


            //获取任务分组名
            let reqParamGroup = {}
            reqParamGroup.overlay_id = 0
            reqParamGroup.page = 1
            reqParamGroup.limit = 3000

            $.ajax({
                url: global_requestAddress + global_requestAddress_js_group + "?action=select",
                type: "POST",
                headers: {
                    token: mybck
                },
                data: reqParamGroup,
                dataType: "json",
                success: function (res) {
                    if (res.code === 2000) {

                        let resR = res.result
                        resR.forEach(item => {
                            groupArr.push({
                                name: item.TaskName,
                                value: item.TaskCount
                            })
                        })

                        // 赋值
                        myCharts5.setOption({
                            series: [{
                                data: groupArr
                            }]
                        });


                    }
                }
            })



            // 基于准备好的dom，初始化echarts实例
            var myCharts2 = echarts.init(document.getElementById('speedChartMain'),'macarons');
            var option2 = {
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data:[]
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                // toolbox: {
                //     feature: {
                //         saveAsImage: {}
                //     }
                // },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: []
                },
                yAxis: {
                    type: 'value'
                },
                series: []
            };

            // 使用刚指定的配置项和数据显示图表。
            myCharts2.setOption(option2);


            //获取任务分组名
            let reqParamDay = {}
            reqParamDay.page = 1
            reqParamDay.limit = 3000

            $.ajax({
                url: global_requestAddress + global_requestAddress_js_everyday + "?action=select",
                type: "POST",
                headers: {
                    token: mybck
                },
                data: reqParamDay,
                dataType: "json",
                success: function (res) {
                    if (res.code === 2000) {

                        let resR = res.result

                        let tempnickDateArr = []
                        let tempnickRegNumArr = []
                        let tempnickLoginNumArr = []
                        let tempnickWithdrawNumArr = []
                        let tempnickWithdrawMoneyArr = []

                        let tempWithdrawBankMoneyArr = []
                        let tempWithdrawBankNumArr = []
                        let tempWithdrawUSDTMoneyArr = []
                        let tempWithdrawUSDTNumArr = []
                        let tempFirstRechargeNumArr = []


                        resR.forEach(item=>{
                            tempnickDateArr.push(item.Date)
                            tempnickRegNumArr.push(item.RegisterNum)
                            tempnickLoginNumArr.push(item.LoginNum)
                            tempnickWithdrawNumArr.push(item.WithdrawNum)
                            tempnickWithdrawMoneyArr.push(item.WithdrawMoney)

                            tempWithdrawBankMoneyArr.push(item.RechargeBankMoney)
                            tempWithdrawBankNumArr.push(item.RechargeBankNum)
                            tempWithdrawUSDTMoneyArr.push(item.RechargeUsdtMoney)
                            tempWithdrawUSDTNumArr.push(item.RechargeUsdtNum)
                            tempFirstRechargeNumArr.push(item.FirstRechargeNum)

                        })

                        const colorList = ["#9E87FF", '#73DDFF', '#fe9a8b', '#F56948', '#ffb199','#330867','#ee609c','#989898','#3cba92']
                        // 之前option中legend和 XAxis的data,series 为空，所以现在将数据填充进去
                        var chartOption = {    //加载数据图表
                            tooltip: {
                                trigger: 'axis'
                            },
                            // dataZoom 组件 用于区域缩放.自动滚动
                            // dataZoom: [//滑动条
                            //     {
                            //         show: false,//是否显示滑动条
                            //         type: 'inside', // 这个 dataZoom 组件是 slider 型 dataZoom 组件
                            //         xAxisIndex: [0], // 设置 dataZoom-inside 组件控制的 x轴
                            //         startValue: 0, // 从头开始。
                            //         endValue: 4  // 一次性展示5个。
                            //     }
                            // ],
                            legend: {
                                icon:'circle',//这里是导航条的图标显示
                                data:['注册人数','登录人数','提现金额','提现人数','银行充值金额','银行充值人数','USDT充值金额','USDT充值人数','首充人数'],
                                y:'32px'
                            },
                            title: {
                                // text: '显示的是昨日各设备粉丝数据!'+"日期: "+yesDayDate,
                                text: '显示的是每天的各种数据',
                                x:'center'
                            },
                            xAxis: {
                                data: tempnickDateArr
                            },
                            series: [
                                {
                                    // 根据名字对应到相应的系列
                                    name: '注册人数',
                                    type: 'line',
                                    data: tempnickRegNumArr,
                                    markPoint : {
                                        label:{color:"#fff"},
                                        data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
                                    },
                                    markLine : {
                                        data : [{type : 'average', name: '平均值'}]
                                    },
                                    symbolSize: 1,
                                    symbol: 'circle',
                                    smooth: true,
                                    yAxisIndex: 0,
                                    showSymbol: false,
                                    lineStyle: {
                                        width: 8,
                                        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{
                                            offset: 0,
                                            color: '#9effff'
                                        },
                                            {
                                                offset: 1,
                                                color: '#9E87FF'
                                            }
                                        ]),
                                        shadowColor: 'rgba(158,135,255, 0.3)',
                                        shadowBlur: 10,
                                        shadowOffsetY: 20
                                    },
                                    itemStyle: {
                                        normal: {
                                            borderWidth: 15,
                                            color: colorList[0],
                                            borderColor: colorList[0]
                                        }
                                    }
                                },
                                {
                                    name: '登录人数',
                                    type: 'line',
                                    data: tempnickLoginNumArr,
                                    markPoint : {
                                        label:{color:"#fff"},
                                        data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
                                    },
                                    markLine : {
                                        data : [{type : 'average', name: '平均值'}]
                                    },
                                    symbolSize: 1,
                                    symbol: 'circle',
                                    smooth: true,
                                    yAxisIndex: 0,
                                    showSymbol: false,
                                    lineStyle: {
                                        width: 8,
                                        color: new echarts.graphic.LinearGradient(1, 1, 0, 0, [{
                                            offset: 0,
                                            color: '#73DD39'
                                        },
                                            {
                                                offset: 1,
                                                color: '#73DDFF'
                                            }
                                        ]),
                                        shadowColor: 'rgba(115,221,255, 0.3)',
                                        shadowBlur: 10,
                                        shadowOffsetY: 20
                                    },
                                    itemStyle: {
                                        normal: {
                                            borderWidth: 15,
                                            color: colorList[1],
                                            borderColor: colorList[1]
                                        }
                                    }
                                },
                                {
                                    name: '提现人数',
                                    type: 'line',
                                    data: tempnickWithdrawNumArr,
                                    markPoint : {
                                        label:{color:"#fff"},
                                        data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
                                    },
                                    markLine : {
                                        data : [{type : 'average', name: '平均值'}]
                                    },
                                    symbolSize: 1,
                                    symbol: 'circle',
                                    smooth: true,
                                    yAxisIndex: 0,
                                    showSymbol: false,
                                    lineStyle: {
                                        width: 8,
                                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                            offset: 0,
                                            color: '#fe9a'
                                        },
                                            {
                                                offset: 1,
                                                color: '#fe9a8b'
                                            }
                                        ]),
                                        shadowColor: 'rgba(254,154,139, 0.3)',
                                        shadowBlur: 10,
                                        shadowOffsetY: 20
                                    },
                                    itemStyle: {
                                        normal: {
                                            borderWidth: 15,
                                            color: colorList[2],
                                            borderColor: colorList[2]
                                        }
                                    }
                                },
                                {
                                    // 根据名字对应到相应的系列
                                    name: '提现金额',
                                    type: 'line',
                                    data: tempnickWithdrawMoneyArr,
                                    markPoint : {
                                        label:{color:"#fff"},
                                        data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
                                    },
                                    markLine : {
                                        data : [{type : 'average', name: '平均值'}]
                                    },
                                    symbolSize: 1,
                                    symbol: 'circle',
                                    smooth: true,
                                    yAxisIndex: 0,
                                    showSymbol: false,
                                    lineStyle: {
                                        width: 8,
                                        color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
                                            offset: 0,
                                            color: '#ef0a75'
                                        },
                                            {
                                                offset: 1,
                                                color: '#F56948'
                                            }
                                        ]),
                                        shadowColor: 'rgba(253,121,128, 0.3)',
                                        shadowBlur: 10,
                                        shadowOffsetY: 20
                                    },
                                    itemStyle: {
                                        normal: {
                                            borderWidth: 15,
                                            color: colorList[3],
                                            borderColor: colorList[3]
                                        }
                                    }
                                },

                                {
                                    // 根据名字对应到相应的系列
                                    name: '银行充值金额',
                                    type: 'line',
                                    data: tempWithdrawBankMoneyArr,
                                    markPoint : {
                                        label:{color:"#fff"},
                                        data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
                                    },
                                    markLine : {
                                        data : [{type : 'average', name: '平均值'}]
                                    },
                                    symbolSize: 1,
                                    symbol: 'circle',
                                    smooth: true,
                                    yAxisIndex: 0,
                                    showSymbol: false,
                                    lineStyle: {
                                        width: 8,
                                        color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
                                            offset: 0,
                                            color: '#ef0a75'
                                        },
                                            {
                                                offset: 1,
                                                color: '#ffb199'
                                            }
                                        ]),
                                        shadowColor: 'rgba(253,121,128, 0.3)',
                                        shadowBlur: 10,
                                        shadowOffsetY: 20
                                    },
                                    itemStyle: {
                                        normal: {
                                            borderWidth: 15,
                                            color: colorList[4],
                                            borderColor: colorList[4]
                                        }
                                    }
                                },
                                {
                                    // 根据名字对应到相应的系列
                                    name: '银行充值人数',
                                    type: 'line',
                                    data: tempWithdrawBankNumArr,
                                    markPoint : {
                                        label:{color:"#fff"},
                                        data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
                                    },
                                    markLine : {
                                        data : [{type : 'average', name: '平均值'}]
                                    },
                                    symbolSize: 1,
                                    symbol: 'circle',
                                    smooth: true,
                                    yAxisIndex: 0,
                                    showSymbol: false,
                                    lineStyle: {
                                        width: 8,
                                        color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
                                            offset: 0,
                                            color: '#ef0a75'
                                        },
                                            {
                                                offset: 1,
                                                color: '#330867'
                                            }
                                        ]),
                                        shadowColor: 'rgba(253,121,128, 0.3)',
                                        shadowBlur: 10,
                                        shadowOffsetY: 20
                                    },
                                    itemStyle: {
                                        normal: {
                                            borderWidth: 15,
                                            color: colorList[5],
                                            borderColor: colorList[5]
                                        }
                                    }
                                },
                                {
                                    // 根据名字对应到相应的系列
                                    name: 'USDT充值金额',
                                    type: 'line',
                                    data: tempWithdrawUSDTMoneyArr,
                                    markPoint : {
                                        label:{color:"#fff"},
                                        data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
                                    },
                                    markLine : {
                                        data : [{type : 'average', name: '平均值'}]
                                    },
                                    symbolSize: 1,
                                    symbol: 'circle',
                                    smooth: true,
                                    yAxisIndex: 0,
                                    showSymbol: false,
                                    lineStyle: {
                                        width: 8,
                                        color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
                                            offset: 0,
                                            color: '#ef0a75'
                                        },
                                            {
                                                offset: 1,
                                                color: '#ee609c'
                                            }
                                        ]),
                                        shadowColor: 'rgba(253,121,128, 0.3)',
                                        shadowBlur: 10,
                                        shadowOffsetY: 20
                                    },
                                    itemStyle: {
                                        normal: {
                                            borderWidth: 15,
                                            color: colorList[6],
                                            borderColor: colorList[6]
                                        }
                                    }
                                },
                                {
                                    // 根据名字对应到相应的系列
                                    name: 'USDT充值人数',
                                    type: 'line',
                                    data: tempWithdrawUSDTNumArr,
                                    markPoint : {
                                        label:{color:"#fff"},
                                        data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
                                    },
                                    markLine : {
                                        data : [{type : 'average', name: '平均值'}]
                                    },
                                    symbolSize: 1,
                                    symbol: 'circle',
                                    smooth: true,
                                    yAxisIndex: 0,
                                    showSymbol: false,
                                    lineStyle: {
                                        width: 8,
                                        color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
                                            offset: 0,
                                            color: '#989898'
                                        },
                                            {
                                                offset: 1,
                                                color: '#fe8bc1'
                                            }
                                        ]),
                                        shadowColor: 'rgba(253,121,128, 0.3)',
                                        shadowBlur: 10,
                                        shadowOffsetY: 20
                                    },
                                    itemStyle: {
                                        normal: {
                                            borderWidth: 15,
                                            color: colorList[7],
                                            borderColor: colorList[7]
                                        }
                                    }
                                },
                                {
                                    // 根据名字对应到相应的系列
                                    name: '首充人数',
                                    type: 'line',
                                    data: tempFirstRechargeNumArr,
                                    markPoint : {
                                        label:{color:"#fff"},
                                        data : [{type : 'max', name: '最大值'},{type : 'min', name: '最小值'}]
                                    },
                                    markLine : {
                                        data : [{type : 'average', name: '平均值'}]
                                    },
                                    symbolSize: 1,
                                    symbol: 'circle',
                                    smooth: true,
                                    yAxisIndex: 0,
                                    showSymbol: false,
                                    lineStyle: {
                                        width: 8,
                                        color: new echarts.graphic.LinearGradient(0, 0, 1, 1, [{
                                            offset: 0,
                                            color: '#ef0a75'
                                        },
                                            {
                                                offset: 1,
                                                color: '#3cba92'
                                            }
                                        ]),
                                        shadowColor: 'rgba(253,121,128, 0.3)',
                                        shadowBlur: 10,
                                        shadowOffsetY: 20
                                    },
                                    itemStyle: {
                                        normal: {
                                            borderWidth: 15,
                                            color: colorList[8],
                                            borderColor: colorList[8]
                                        }
                                    }
                                }






                            ]
                        }

                        // // 使用刚指定的配置项和数据显示图表。z暂时没有效果
                        // timer = setInterval(function () {
                        //     // 每次向后滚动一个，最后一个从头开始。
                        //     if (chartOption.dataZoom[0].endValue == tempnickDateArr.length - 1) {
                        //         chartOption.dataZoom[0].endValue = 4;
                        //         chartOption.dataZoom[0].startValue = 0;
                        //     }
                        //     else {
                        //         chartOption.dataZoom[0].endValue = chartOption.dataZoom[0].endValue + 1;
                        //         chartOption.dataZoom[0].startValue = chartOption.dataZoom[0].startValue + 1;
                        //     }
                        //     // myCharts2.clear();
                        //     // myCharts2.setOption(chartOption,true);
                        // }, 2000);
                        //
                        // // myCharts2.clear();
                        myCharts2.setOption(chartOption);

                        // 可调用clearLoop方法，清除定时器
                        tootipTimer && tootipTimer.clearLoop();
                        tootipTimer = null;
                        // 调用轮播的方法(方式一)
                        tootipTimer = tools.loopShowTooltip(myCharts2, chartOption, {
                            interval: 2000, // 轮播间隔时间
                            loopSeries: true // 是否开启轮播循环
                        });


                    }
                }
            })



            /** 窗口大小改变事件 */
            window.onresize = function () {
                myCharts1.resize();
                myCharts2.resize();
                myCharts5.resize();

            };

        });

    }
</script>
</body>
</html>
